(function(g,z,C,A,F,G,H,t,u){function B(a){return a&&typeof a===z&&!(typeof a.length===C&&!a.propertyIsEnumerable(A))&&a||null}function v(a){return a&&typeof a===z&&typeof a.length===C&&!a.propertyIsEnumerable(A)&&a||null}function w(a){return a&&"function"===typeof a&&a||null}function E(a){return"[object String]"===F.apply(a)&&a||null}function q(a){return w(a)&&a.prototype&&a===a.prototype.constructor&&a||null}function x(a,c,d){if(v(c))for(var D=c.length;0<=--D;)x(a,c[D],d);else{d=d||{constructor:1,
$super:1,prototype:1,$superp:1};var D=q(a),g=q(c),b=a.prototype,n,r;if(B(c))for(n in c){r=n;var p=c[n],k=a,l=D,h=b;d&&d.hasOwnProperty(r)||(k[r]=p,l&&(h[r]=p))}if(g)for(n in r=c.prototype,r){var p=n,k=r[n],l=a,h=D,m=b;d&&d.hasOwnProperty(p)||(l[p]=k,h&&(m[p]=k))}D&&g&&x(b,c.prototype,d)}}function s(a,c){c||(a=(c=a,0));var d,g,q,b,n,r,p=0,k,l={constructor:1,$singleton:1,$statics:1,prototype:1,$super:1,$superp:1,main:1,toString:0};n=s.overload;var h=s.plugins;c=("function"===typeof c?c():c)||{};d=c.hasOwnProperty("constructor")?
c.constructor:0;g=c.$singleton;q=c.$statics;for(b in h)l[b]=1;d=g?{}:d?n?n("constructor",d):d:function(){};n=g?d:d.prototype;for(r=(a=!a||v(a)?a:[a])&&a.length;p<r;){k=a[p++];for(b in k)l[b]||(n[b]=k[b],g||(d[b]=k[b]));for(b in k.prototype)l[b]||(n[b]=k.prototype[b])}for(b in c)l[b]||(n[b]=c[b]);for(b in q)d[b]=n[b]=q[b];g||(k=a&&a[0]||a,d.$super=k,d.$superp=k&&k.prototype?k.prototype:k);for(b in h)h[b](d,a,c);w(c.main)&&c.main.call(d,d);return d}s.plugins={};u={version:G,Class:s,extend:x,isMap:B,
isArray:v,isFunction:w,isString:E,isClass:q,mapOrNil:B,arrayOrNil:v,functionOrNil:w,stringOrNil:E,classOrNil:q};"undefined"!==typeof module&&module.exports?module.exports=u:(t=g.Class,g.Class=s,g.jsface=u,u.noConflict=function(){g.Class=t})})(this,"object","number","length",Object.prototype.toString,"2.1.2");
(function(g){g=g.jsface||require("./jsface");var z=g.isFunction,C=[],A=0;g.Class.plugins.$ready=function G(g,t,u,B){for(var v=u.$ready,w=t?t.length:0,E=w,q=w&&t[0].$super,x,s,a;w--;)for(s=0;s<A&&(a=C[s],x=t[w],x===a[0]&&(a[1].call(x,g,t,u),E--),E);s++);q&&G(g,[q],u,!0);!B&&z(v)&&(v.call(g,g,t,u),C.push([g,v]),A++)}})(this);
Class(function(){function g(l){for(var h={},a=l&&l.split("|"),y=a&&a.length||0,f,e,c;y--;)if(f=a[y].split(":"),e=f.length,0<e&&3>e)for(1===f.length&&f.unshift(H),e=f[0].split(","),c=e.length;c--;)h[e[c]]=f[1];else console.log(q,"unrecognized action",l);return h}function z(l,h){var m=h?c(l.target):c(this),y=h||l.type,f=A(m),e;e=m.closest(w);var b=e.length&&e.attr(B),b=b&&p.instanceRefs[b];!b&&e.length&&(b=F(e));e=b&&{parent:e,instance:b};if(f&&e&&(b=e.instance,y=f.actions[y])){y=["on",y.charAt(0).toUpperCase(),
y.slice(1)].join("");if(f=b&&a(b[y]))return f.call(b,l,m,e.parent);console.log(q,y,"not yet implemented")}}function C(l){var h,a;for(h in l.actions)if(E[h])l.element.on(h,z);for(a in l.children)C(l.children[a])}function A(a){var h=0,m,b;if(!a||!a.length)return h;if(m=a.attr(t)){m=m.split("/");h=m.shift();m=m.length?m.join(""):null;b=(b=a.attr(u))&&b.replace(/'/g,'"');try{b=b&&I(b)}catch(f){}h={element:a,componentId:h,namespace:m,config:b,actions:g(a.attr(v))};a=a.children(":not([data-com])[data-act]");
if(a=a.length&&a||0){m=a.length;for(b=[];m--;)b.push(A(c(a[m])));h.children=b}}else(m=a.attr(v))&&(h={element:a,actions:g(m)});return h}function F(a){var h=A(a),b=p.instanceRefs,c,f,e,g,d,k,n;if(h)if(c=h.componentId,f=h.instanceId,e=p[c]){g=e.type;c=h.config;switch(g){case "shared":if(!(f=b[f]))a:{f=p.instanceRefs;for(k in f)if(d=f[k],d instanceof e){f={instanceId:k,instance:d};break a}f={instanceId:r++,instance:new e}}d=f;f=d.instanceId;e=b[f]=d.instance;break;default:if(f=f||r++,e=b[f]||new e,b[f]=
e,k=h.namespace,e.namespace=k){g=e.listeners;n={};for(d in g)n[d+"/"+k]=g[d];e.listeners=n}}e.init(a,c);a.attr(B,f);C(h)}else console.log(q,"Component not found",c),Kanji.notify("com:not-found",c,a);return b[f]}function G(){var a=p.instanceRefs,b=+new Date,m,g;for(m in a)if("0"!==m&&(g=c(["[",B,"=",m,"]"].join("")),g.length||delete a[m],+new Date-b>s))break;d(G,x)}var H="click",t="data-com",u="data-cfg",B="data-instance",v="data-act",w="[data-com]",E={mouseenter:1,mouseout:1,mousemove:1,mouseleave:1,
mouseover:1,hover:1},q="[ERROR] Kanji:",x=3E3,s=250,a=jsface.functionOrNil,c=jQuery,d=setTimeout,D=[].slice,I="object"===typeof JSON&&JSON.parse||c.parseJSON,b=0,n=[],r=1,p,k;return{$statics:{notify:function(){var a=D.call(arguments),b=a.shift(),c=p.instanceRefs,d,f,e,b="shared"===this.type?b:this.namespace?[b,"/",this.namespace].join(""):b;for(d in c)f=c[d],e=f.listeners,e[b]&&e[b].apply(f,a);Kanji.debug&&console.log("Kanji:",b)}},init:function(a,b){},listeners:{},$ready:function(a,h,d){var g,f,
e;if(this!==a)if(h=d.id){if(!p[h]){p[h]=a;g=['[data-com="',h,'"][data-lazy="false"],[data-com^="',h,'/"][data-lazy="false"]'].join("");e=a.$superp;for(h=a.$super;e;){e=e.listeners;for(f in e)d.listeners[f]||(d.listeners[f]=e[f]);e=h.$superp;h=h.$super}d.type&&(a.type=d.type);b?c(g).each(function(){F(c(this))}):n.push(g)}}else console.log(q,"componentId not defined on api",d)},main:function(a){Kanji=a;p={instanceRefs:{0:{listeners:{"com:init":F}}}};c.fn.ready(function(){var a=c(document),g=n.length,
l=0,f,e,p;for(b=1;l<g;)if(f=c(n[l++]),e=f.length,p=0,e)for(;p<e;)F(c(f[p++]));a.on("touchend","[data-act]",function(a){k=!0;return z(a,H)}).on(H,"[data-act]",function(a){if(!k)return z(a,H);k=!1});a.on("blur change contextmenu dblclick error focus focusin focusout keydown keypress keyup load mousedown mouseup resize scroll select submit touchcancel touchleave touchmove touchstart unload",function(a){return z(a,a.type)});d(G,x)})}}});